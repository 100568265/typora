# 数据结构



## **逻辑关系**

**集合：**数据元素属于同一个集合

**线性结构：**数据元素之间存在着**一对一**的**线性关系**

**树型结构：**数据元素之间存在着**一对多**的**层次关系**

**图结构：**数据元素之间存在着**多对多**的**任意关系**



## **存储结构**

**顺序存储结构：**

用一组连续的存储单元依次存储数据元素，数据元素之间逻辑关系由元素的存储位置表示。



**链接存储结构：**

用一组任意的存储单元存储数据元素，数据元素之间的逻辑关系用指针来表示。



数据的逻辑结构属于用户视图，是面向问题的。

数据的存储结构是属于实现的视图，是面向计算机的。





## 算法分析

常见的阶的比较：

Ο(1)＜Ο(log2n)＜Ο(n)＜Ο(nlog2n)＜Ο(n^2)＜Ο(n^3)＜…

![image-20230221221343085](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230221221343085.png)



各种语句和模块分析应遵循的规则：

1.赋值语句或读写语句：O(1)。

2.语句序列：运行时间由加法确定，该序列中耗时最多的语句的运行时间。

3.分支语句：运行时间由条件测试(通常为O(1))加上分支中运行时间最长的语句的运行时间。









# 计算机网络



## 物理层

### 基本概念

物理层的主要任务：确定与传输媒体接口有关的一些特性--->定义标准

1. **机械特性：**定义物理连接的特性，规定物理连接时所采用的规格，接口形状，引线数目，引脚数量和排列情况。
2. **电气特性：**规定传输二进制时，线路上信号的电压范围，阻抗匹配，传输速率和距离限制等。
3. **功能特性：**指明某条线上出现的某一电平表示何种意义，接口部件的信号线的用途。
4. **规程特性：**(过程特性)定义各条物理线路的工作规程和时序关系。

![image-20221213195912564](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213195912564.png)





**数据通信相关术语：**

**数据：**传送信息的实体，通常是有意义的符号序列。

**信号：**数据的电气/电磁表现形式，是数据在传输过程中的**存在形式**。

**信源：**产生和发送数据的源头。

**信宿：**接收数据的终点。

**信道：**信号的传输媒介。一般用来表示向某一个方向传送信息的介质，因此一条通信路线往往包含一条发送信道和一条接收信道。





**三种通信方式：**

1. 单工通信：只有一个方向的通信而没有反向的交互，仅需要**一条信道**。
2. 半双工通信：通信的双方都可以发送或接收消息，但任何一方都不能同时发送和接收，需要**两条信道**。
3. 全双工通信：通信双方可以同时发送和接收信息，也需要**两条信道**。



**两种传输方式：**

串行传输：速度慢，费用低，适合远距离

并行传输：速度快，费用高，适合近距离





**码元：**

码元是指用一个**固定时长**的**信号波形**(数字脉冲)，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为k进制码元，而该时长称为码元宽度。当码元的离散状态有M个时，此时码元为M进制码元。

**1码元可以携带多个比特的信息量**。例如，在使用二进制时，只有两种不同的码元，一种代表0状态，一种代表1状态。

K进制码元---4进制码元 ---> 码元的离散状态有四种 ---> 四种高低不同的信号波形 00, 01, 10, 11



**速率：**

速率也叫数据率，是指数据的**传输速率**，表示单位时间内传输的数据量。可以用**码元传输速率**和**信息传输速率**表示。

**码元传输速率：**表示单位时间内数字通信系统所传输的码元个数(也可以称为信号变化的次数)，单位是**波特**。1波特表示数字通信系统每秒传输一个码元。这里的码元可以是多进制的，也可以是二进制的，但码元速率与进制无关。

**信息传输速率：**别名信息速率，比特率。表示单位时间内数字通信系统传输的二进制码元个数(比特数)，单位是比特/秒。



**带宽：**表示在单位时间内从网络的某一点到另一点所能通过的"**最高数据率**"，常用来表示网络的通信线路所能传输数据的能力。单位是b/s。







### 奈氏准则

![image-20221213205122776](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213205122776.png)

影响是真程度的因素：

1. 码元传输速率
2. 信号传输距离
3. 噪声干扰
4. 传输媒体质量

![image-20221213205535450](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213205535450.png)





**奈氏准则：**

在理想低通(无噪声，带宽受限)条件下，为了避免码间串扰，极限码元传输速率为2W Baud，W是信道带宽，单位是Hz。

![image-20221213210535474](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213210535474.png)





### 香农定理

![image-20221213210813840](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213210813840.png)

信噪比 = 信号的平均功率/噪声的平均功率，常记为S/N，并用分贝(dB)作为度量单位，即：

![image-20221213211002516](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213211002516.png)

香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。

![image-20221213211547170](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213211547170.png)







### 编码与调制

![image-20221213212917026](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213212917026.png)



![image-20221213213228834](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213213228834.png)





![image-20221213214009714](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213214009714.png)

**注意：**曼彻斯特编码中，每一个码元被调成两个电平，因此数据传输速率只有调制速率的1/2。



**差分曼彻斯特编码：**

常用于局域网传输，其规则是：若码元为1，则前半个码元的电平与上一个码元的后半个码元的电平相同，若为0，则相反。

该编码的特点是：在每个码元的中间，都有一次电平的跳转，可以实现自同步，且抗干扰性强于曼彻斯特编码。





![image-20221213215648375](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213215648375.png)





### 传输介质

**导向性传输介质：**

1. **双绞线**
2. **同轴电缆**

基带同轴电缆 --- 用于传输基带数字信号

宽带同轴电缆 --- 用于传送宽带信号

3. **光纤**

光纤通信就是利用光导纤维传递光脉冲进行通信。有光脉冲表示1，无光脉冲表示0。

**特点：**

传输损耗小，中继距离长，对远距离传输特别经济

抗雷电和电磁干扰性能好

无串音干扰，保密性好，也不容易被窃听或截取数据

体积小，重量轻

带宽大，通信量大



**非导向性传输介质：**

1. **无线电波：**信号向所有方向传播
2. **微波：**信号固定方向传播
3. **红外线，激光：**信号固定方向传播





### 物理层设备

![image-20221213231018096](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213231018096.png)

![image-20221213231343801](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213231343801.png)









## 链路层

![image-20221213232223962](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213232223962.png)



**数据链路层功能：**

加强物理层传输原始比特流的功能，将物理层提供的可能出错的物理连接改造成为**逻辑上无差错的数据链路**，使之对网络层表现为一条无差错的链路。

![image-20221213232549062](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221213232549062.png)

功能1：为网络层提供服务。无确认无连接服务，有确认无连接服务，有确认面向连接服务。(有连接一定有确认)

功能2：链路管理，即连接的建立，维持，释放(用于面向连接的服务)

功能3：组帧

功能4：流量控制。限制发送方速度

功能5：差错控制(帧错/位错)



### 封装成帧

![image-20221214200904996](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221214200904996.png)



### 透明传输

![image-20221220171107633](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220171107633.png)



**1.字符计数法**

帧首部使用一个计数字段(第一个字节，8位)来标明帧内字符数。

![image-20221220171312744](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220171312744.png)



**2.字符填充法**

![image-20221220171655261](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220171655261.png)

![image-20221220172037780](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220172037780.png)



**3.零比特填充法**

![image-20221220172301264](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220172301264.png)



**4.违规编码法**

![image-20221220172407142](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220172407142.png)



**总结：**

由于字节计数法中Count字段的脆弱性(其值若有差错将导致灾难性后果)及字符填充实现上的复杂性和不兼容性，目前较普遍使用的帧同步法是**比特填充**和**违规编码法**。







### 差错控制

差错从何而来？

![image-20221220173358640](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20221220173358640.png)



#### 1.奇偶校验

给原数据位添加一位，使得：

奇校验："1"的个数为奇数

偶校验："1"的个数为偶数



奇偶校验的特点：只能检查出奇(偶)数个比特错误，检错能力为50%

![image-20230222215517753](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222215517753.png)



#### 2.CRC校验

循环冗余简单思想：

![image-20230222215848671](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222215848671.png)

**生成多项式：**被除数

**FCS：**冗余码/FCS帧检验序列



**发送端-计算冗余码：**

(1)**加0** ：假设生成多项式G(x)的阶为r，则加r个0。

(2)**模2除法**：(异或)。数据加0后除以多项式，余数为冗余码(FCS)。

最终发送的数据是**原数据后面加上FCS余数**。



**接收端-检验数据：**

接收到的数据除以同样的除数，然后检查得到的余数R。

如果R为0，判定帧无差错，接受。





#### 3.海明码

海明码：**发现双**比特错，**纠正单**比特错



**1.确定校验码位数r**

海明不等式：

![image-20230222222337061](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222222337061.png)

r为冗余信息位，k为信息位



**2.确定校验码和数据的位置**

![image-20230222222805310](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222222805310.png)









### 流量控制

**较高的发送速度**和**较低的接收能力**的不匹配，会造成传输出错。

链路层的流量控制是点对点的。

传输层的流量控制是端到端的。

**链路层控制手段：**接收方收不下就不回复确认。

**传输层控制手段：**接收端给发送端一个窗口公告。

![image-20230222224818250](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222224818250.png)



#### 1.停止等待协议

发送窗口大小=1，接收窗口大小=1

每发送一帧就停止发送，等待对方的确认，在收到确认后再发送下一帧。

 

**为什么要有停止-等待协议？**

除了比特出差错，底层信道还会出现丢包问题。为了实现流量控制。

**研究停止等待协议的前提？**

虽然现在常用全双工通信方式，但为了讨论问题方便，仅考虑一方发送数据，一方接收数据。

**有差错情况：**

**1.数据帧丢失或出错：**

![image-20230222230239279](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222230239279.png)

**2.ACK丢失：**

![image-20230222230453494](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222230453494.png)

**3.ACK迟到**

![image-20230222230844731](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230222230844731.png)

**信道利用率：**

发送方在一个发送周期内，有效地发送数据所需要的时间占整个发送周期的比率。

**信道利用率  = (L/C)/T**

T：发送周期，L：T内发送L比特数据，C：发送方数据传输率

信道吞吐率 = 信道利用率 * 发送方的发送速率





#### 2.后退N帧协议(GBN)

发送窗口大小>1，接收窗口大小=1

**停止等待协议的弊端：**信道利用率太低，发送完一帧就得开始等待接收方确认。



**发送窗口：**发送方维持一组连续的允许发送的帧的序号。

**接收窗口：**接收方维持一组连续的允许接收帧的序号。



**GBN发送方必须响应的三件事**

**1.上层的调用**

上层要发送数据时，发送方先检查发送窗口是否已满，如果**未满**，则产生一个帧并将其发送；如果窗口**已满**，发送方只需要将数据返回给上层，暗示上层窗口已满。上层等一会再发送。(实际实现中，发送方可以缓存这些数据，窗口不满时再发送帧)。

**2.收到了一个ACK**

GBN协议中，对n号帧的确认采用**累计确认**的方式，标明接收方已经收到n号帧和它之前的全部帧。

**3.超时事件**

如果出现超时，发送方重传所有已发送但是未被确认的帧。



**接收方要做的事**

如果正确收到n号帧，并且按序，那么接收方为n帧发送一个ACK，并将该帧的数据部分交付给上层。



其余情况都丢弃帧，并为最近按序接收的帧重新发送ACK。接收方无需缓存任何失序帧，只需要维护同一个信息：**expectedseqnum**(下一个按序接收的帧序号)。



**滑动窗口长度**

若采用n个比特对帧编号，那么发送窗口的尺寸应满足：

![image-20230302172613456](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230302172613456.png)

因为发送窗口尺寸过大，就会使得接收方无法区别新帧和旧帧。



**GBN协议重点总结**

1.累计确认(偶尔捎带确认)。

2.接收方只按序接收帧，不按序就会被丢弃。

3.确认序列号最大的，按序到达的帧。

4.发送窗口最大为2^n - 1，接收窗口大小为1。







#### 3.选择重传协议(SR)

发送窗口大小>1，接收窗口大小>1



**GBN协议的弊端：**累计确认--->批量重传

**解决方法：**设置单个确认，同时加大接收窗口，设置接收缓存，缓存乱序到达的帧。



**SR发送方必须响应的三件事：**

**1.上层的调用**

从上层收到数据后，SR发送方检查下一个可用于该帧的序号，如果序号位于发送窗口内，则发送数据帧。

否则就像GBN一样，要么将数据缓存，要么返回给上层之后再传输。

**2.收到了一个ACK**

如果收到ACK，加入该帧序号在窗口内，则SR发送方将那个被确认的帧标记为已接收。

如果该帧序号是窗口的下界(最左边第一个窗口对应的序号)，则窗口向前移动到具有最小序号的未确认帧处。

如果窗口移动了并且有序号在窗口内的未发送帧，则发送这些帧。

![image-20230302164054585](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230302164054585.png)

![image-20230302164114684](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230302164114684.png)

**3.超时事件**

每个帧都有自己的定时器，一个超时事件发生后只重传一个帧。 





**SR接收方要做的事**

**来者不拒(窗口内的帧)：**SR接收方将确认一个正确接收的帧而不管其是否按序。失序的帧将被缓存，并返回给发送方一个该帧的确认帧，直到所有帧都被接收为止。这时才可以将一批帧按序交付给上层，然后向前移动滑动窗口。

![image-20230302165217250](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230302165217250.png)



**滑动窗口长度**

发送窗口最好等于接收窗口

![image-20230302165700845](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230302165700845.png)



**SR协议重点总结**

1.对数据帧逐一确认，收一个确认一个

2.只重传出错帧

3.接收方有缓存

![image-20230302172509904](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230302172509904.png)



### 信道划分介质访问控制

**传输数据使用的两种链路**

**点对点链路：**两个相邻节点通过一个链路相连，没有第三者。

应用：ppp协议，常用于**广域网**。

**广播式链路：**所有主机共享通信介质。

应用：早期的总线以太网，无线局域网，常用于**局域网**。



**介质访问控制：**

就是采取一定的措施，使得两对节点之间的通信不会发生互相干扰的情况。

![image-20230303084400211](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303084400211.png)



**信道划分介质访问控制：**

将使用介质的每个设备与来自同一信道的其他设备的**通信隔离开**，把**时域和频域**资源合理地分配给网络上的设备。



**多路复用：**把多个信号组合在一条物理信道上进行传输。

![image-20230303084751765](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303084751765.png)



#### 静态划分信道

**频分多路复用FDM**

用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。**频分复用的所有用户在同样的时间占用不同的带宽(频率带宽)资源。**

![image-20230303085019799](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303085019799.png)

**时分多路复用TDM**

将时间划分为一段段等长的时分复用帧。每一个时分复用的用户在每一个TDM帧中占用**固定序号的时隙**，所有用户轮流占用信道。

![image-20230303085242017](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303085242017.png)

频分复用 -- "并行"

时分复用 -- ""并发

**改进的时分复用 -- 统计时分复用STDM**

![image-20230303085634110](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303085634110.png)



**波分多路复用WDM**

波分多路复用就是**光的频分多路复用**。

在一根光纤中传输多种不同波长(频率)的光信号，由于波长(频率)不同，所以各路光信号互不干扰。

最后再用波长分解复用器将各路波长分解出来。

![image-20230303090022764](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303090022764.png)





**码分多路复用**

码分多址**(CDMA)**是码分复用的一种方式。

一个比特分为多个码片/芯片(chip)，每一个站点被指定一个唯一的m位的芯片序列。

发送1时站点发送芯片序列，发送0时发送芯片序列反码。

**如何不打架：**多个站点同时发送数据的时候，要求各个站点芯片序列相互正交。

**如何合并：**各路数据在信道中被线性相加。

**如何分离：**合并的数据和源站**规格化内积**。





#### 动态分配信道

动态媒体接入控制/多点接入。

特点：信道并非在用户通信时固定分配给用户。



**随机访问介质访问控制**

所有用户可随机发送信息，发送信息时占全部带宽。(冲突)



##### ALOHA

纯ALOHA协议思想：不监听信道，不按时间槽发送，随机重发。

**冲突如何检测？**

如果发生冲突，接收方在就会检测出差错，然后不予确认，发送方在一定时间内收不到就判断发生冲突。

**冲突如何解决？**

超时后等以随机时间再重传。



**时隙ALOHA协议**

协议思想：把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信道，若发生冲突，则必须等到下一个时间片开始时刻再发送。控制想发就发的随意性。



**关于ALOHA要知道的事**

1.纯ALOHA比时隙ALOHA吞吐量更低，效率更低。

2.纯ALOHA想法就发，时隙ALOHA只有在时间片段开始时才能发。





##### CSMA

载波监听多路访问协议CSMA (carrier sense multiple access)



CS：载波监听，每一个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据。

根据总线上的电压摆动值来判断是否有超过2个站在发送数据。



**CSMA协议思想：**在发送帧之前，监听信道。

![image-20230303103524235](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303103524235.png)

**1-坚持CSMA思想：**如果一个主机要发送消息，那么先监听信道。

​	空闲则直接传输，不必等待。

​	忙则一直监听，直到空闲马上传输。

如果有冲突(一段时间内未收到肯定回复)，则等待一个随机时长再监听，重复上述过程。

**优点：**只要媒体空闲，站点就会马上发送，避免了媒体利用率的损失。

**缺点：**假如有两个或以上的站点有数据要发送，冲突就不可避免。



**非坚持CSMA：**

非坚持指的是对于监听信道**忙**之后就不继续监听。

非坚持CSMA思想：如果一个主机要发送消息，那么它先监听信道。

空闲则直接传输，不必等待。

忙则等待一个随机的时间之后再进行监听。

**优点：**采用随机的重发延迟时间可以比较少冲突发生的可能性。

**缺点：**可能存在大家都在延迟等待过程中，使得媒体可能处于空闲状态，媒体使用率降低。



**p-坚持CSMA：**

p-坚持指的是对于监听信道空闲的处理。

p-坚持CSMA思想：如果一个主机要发送消息，那么它先监听信道。

空闲则以p概率直接传输，不必等待；概率1-p等待到下一个时间槽再传输。

忙则等待一个随机的时间之后再进行监听。

**优点：**技能像非坚持算法一样减少冲突，又能像1-坚持算法那样减少媒体空闲时间。

但是：发生冲突后还是要坚持把数据帧发送完，造成了浪费。



**三种CSMA对比总结**

![image-20230303104809417](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303104809417.png)





##### CSMA-CD

载波监听多点接入/碰撞检测CSMA/CD 

(carrier sense multiple access with collision detection)

**CS：**载波监听，每一个站点在**发送数据之前**以及**发送数据时**都要检测一下总线上是否有其他计算机在发送数据。

**MA：**多点接入，表示许多计算机以多点接入的方式连接在一根总线上。

**CD：**碰撞检测，边发送边监听，适配器变发送数据边检测信道上信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发数据。



**传播时延对载波监听的影响**

![image-20230303132744375](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230303132744375.png)



**如何确定碰撞后的重传时机？**

截断二进制指数规避算法：

1.确定基本退避时间为争用期2τ

2.定义参数k，它等于重传次数，但k不超过10，即k=min[重传次数,10]。当重传次数不超过10时，k等于重传次数。当重传次数超过10时，k就不再增大一直等于10。

3.从离散的整数集合[0,1,2^k - 1]中随机取出一个数r，重传所需要的退避时间就是r倍的基本退避时间，即2rτ。

4.当重传达到**16**次仍不能成功时，说明网络太拥挤，认为此帧永远无法正确发出，抛弃此帧并向高层报告出错。



**最小帧长问题**

![image-20230304210407738](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230304210407738.png)

以太网规定最短帧长为64B，凡是长度小于64B的都是由于冲突而异常终止的无效帧。





##### CSMA-CA

载波监听多点接入/碰撞避免CSMA/CA (carrier sense multiple access with collision avoidance)

**CA：**使用于无线局域网。

![image-20230308123213516](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230308123213516.png)



**CSMA-CA工作原理**

1.发送数据前，先检测信道是否空闲。

2.空闲则发出**RTS**(request to send)，RTS包括发射端地址，接收端地址，下一份数据将持续发送的时间等信息；信道忙则等待。

3.接收端接收到RTS后，将响应**CTS**(clear to send)。

4.发送端收到CTS后，开始**发送数据帧**(同时预约信道：发送方告知其他站点自己要传多久数据)。

5.接收端接收到数据帧后，将用CRC检验数据是否正确，正确则响应**ACK帧**。

6.发送方收到ACK就可以进行下一个数据帧的发送，若没有则一直重传至规定重发次数为止(采用**二进制指数规避算法**来确定随机的推迟时间)。



**CSMA-CD和CSMA-CA比较**

相同点：

都属于CSMA的思路，其核心是先听再说。两个在接入信道之前都需要进行监听。当发现信道空闲后，才能进行接入。	

不同点：

**1.传输介质不同：**CSMA-CD用于**总线式以太网**，而CSMA-CA用于**无线局域网**。

**2.载波检测方式不同：**因传输介质不同，两种检测方式也不同。CSMA-CD通过电缆中电压的变化来检测，当数据发生碰撞时，电缆中的电压就会随着发生变化；而CSMA-CA采用能量检测，载波检测和能量载波混合检测三种检测信道空闲的方式。

3.CD协议检测冲突，CA协议避免冲突，二者出现冲突后都会进行**有限的重传**。





#### 介质访问控制

信道划分介质访问控制(MAC Multiple Control)协议：

​	基于**多路复用**技术划分资源。

​	**网络负载重：**共享信道效率高，且公平

​	**网络负载轻：**共享信道 效率低。



随机访问MAC协议：（**冲突**）

​	用户根据意愿随机发送信息，发送信息时可独占信道带宽。	

​	网络负载重：产生冲突开销

​	网络负载轻：共享信道效率高，单个节点可利用信道全部带宽。



轮询访问MAC协议/轮流协议/轮转访问MAC协议：

既要**不产生冲突**，又要发送时**占全部带宽**。

**1.轮询协议**

![image-20230308130202996](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230308130202996.png)

问题：

1.轮询开销

2.等待延迟

3.单点故障



**2.令牌传递协议**

令牌：一个特殊格式的MAC控制帧，不含任何信息。控制信道的使用，确保同一时刻只有一个节点独占信道。

每个节点都可以在**一定的时间内**获得**发送数据的权利**。

问题：

1.令牌开销

2.等待延迟

3.单点故障

应用于令牌环网(物理星型拓扑，逻辑环形拓扑)。

采用令牌传送方式的网络常用于负载较重，通信量较大的网中。





### 局域网

Local Area Network：简称LAN，是指在**某一区域内**由多台计算机互联形成的计算机组，使用**广播信道**。



**特点：**

1.覆盖的地理范围较小，只在一个相对独立的局部范围内联，如一座集中的建筑群内。

2.使用专门铺设的传输介质(双绞线，同轴电缆)进行联网，数据传输速率高(10Mb/s ~ 10Gb/s)。

3.通信延迟时间短，误码率低，可靠性高。

4.各站为平等关系，共享传输信道。

5.多采用分布式控制和广播式通信，能进行广播和组播。

决定局域网的主要要素：**网络拓扑**，**传输介质**与**介质访问控制方法**。	



**局域网拓扑结构**

![image-20230308140320575](C:\Users\52677\AppData\Roaming\Typora\typora-user-images\image-20230308140320575.png)



**局域网传输介质**

有线局域网：双绞线，同轴电缆，光纤...

无线局域网：电磁波



**局域网介质访问控制方法**

**1.CSMA/CD：**常用于总线型局域网，也用于树形网络

**2.令牌总线：**常用于总线型局域网，也用于树形网络

它是把总线型或树形网络中的各个工作站按**一定顺序**(如接口地址大小)排列形成一个逻辑环。只有令牌持有者才能控制总线，才有发送信息的权力。

**3.令牌环：**用于环形局域网，如令牌环网



**局域网的分类**

**1.以太网：**采用IEEE802.3标准。物理拓扑为星型/扩展星型，逻辑上是环型。

**2.令牌环网：**物理上采用星型，逻辑上是环形(过时)

**3.FDDI网(Fiber Distributed Data Interface)：**物理上采用双环拓扑结构，逻辑上是环型拓扑结构。

**4.ATM网(Asynchronous Transfer Mode)：**较新型的单元交换技术，使用53字节固定长度的单元进行交换。

**5.无线局域网(Wireless Local Area Network，WLAN)：**采用IEEE802.11标准。



**IEEE802标准**

局域网，城域网标准。广泛使用的有以太网，令牌环网，无线局域网等。

IEEE802.3：**以太网介质访问控制**协议(CSMA/CD)及物理层技术规范。

IEEE802.5：**令牌环网**(Token-Ring)的介质访问控制协议及物理层技术规范。

IEEE802.8：**光纤**技术咨询组，提供有关光纤联网的技术咨询。

IEEE802.11：**无线局域网(WLAN)**的介质访问控制协议及物理层技术规范。



**MAC子层和LLC子层**

IEEE802标准所描述的局域网参考模型只对应OSI参考模型的**数据链路层和物理层**，它将数据链路层划分为**逻辑链路层LLC子层**和**介质访问控制MAC子层**。



**逻辑链路层LLC子层：**

LLC负责识别网络层协议，然后对它们进行封装。

LLC报头告诉数据链路层一旦帧被接收到时，应该对数据包做什么处理。

为网络层提供服务：无确认无连接，面向连接，带确认无连接，高速传送。	



**MAC子层：**

数据帧的封装和卸装，帧的寻址和识别，帧的接收与发送，链路的管理，帧的差错控制等。

MAC子层的存在屏蔽了不同物理链路种类的差异性。





### 以太网

以太网是指**基带总线局域网规范**。以太网使用**CSMA/CD**技术。

以太网在局域网各种技术中占统治地位：

1.造价低廉

2.是应用最广泛的局域网技术

3.比令牌环网，ATM网便宜简单

4.满足网络速率要求：10Mb/s ~ 10Gb/s